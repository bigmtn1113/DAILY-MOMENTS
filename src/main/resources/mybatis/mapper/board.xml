<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mybatis.mapper.board">

	<insert id="insertBoard" parameterType="board">
		<selectKey order="BEFORE" resultType="int" keyProperty="bno">
			select seq_board_bno.nextval from dual
		</selectKey>
		
		insert into board(bno, bphoto, bcontent, bdate, mid)
		values(#{bno}, #{bphoto}, #{bcontent}, sysdate, #{mid})
	</insert>
	
	<select id="selectMemberBcnt" parameterType="String" resultType="int">
		select count(*)
		from board
		where mid=#{mid}
	</select>
	
	<select id="selectMemberBphotos" parameterType="String" resultType="String">
		select bphoto
		from board
		where mid=#{mid}
	</select>

	<select id="selectBoards" resultType="board">
		select bphoto, bcontent, bdate, mid
		from board
	</select>

</mapper>